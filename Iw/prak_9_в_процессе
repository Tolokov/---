#include <iostream>
#include <iomanip>
#include <fstream>
#include <math.h>

using namespace std;

void display_massive(int W[100][100], int N, int M) {
    for (int i = 0; i < N; i++) {
        for (int j = 0; j < M; j++) {
            cout << W[i][j] << "\t";
        }
        cout << endl;
    }
}

int enter_values_M() {
    int M;
    cout << "Введите длинну массива M=";
    cin >> M;
    return M;
}

int enter_values_N() {
    int N;
    cout << "Введите высоту массива N=";
    cin >> N;
    return N;
}

int search_min_value(int W[100][100], int N, int M) {
    int min_up = W[0][1], min_down = W[1][0];
    for (int i = 0; i < N; i++) {
        for (int j = 0; j < M; j++) {

            //главную диагональ мы не трогаем
            if (i == j) { continue; }

            // Перебираем элементы верхнего треугольника
            else if (i < j) {
                if (W[i][j] < min_up) { min_up = W[i][j]; }
            }

            // Перебираем элементы нижнего треугольника
            else {
                if (W[i][j] < min_down) { min_down = W[i][j]; }
            }
        }
    }
    cout << "\nМинимальное значение для верхнего треугольника=" << min_up;
    cout << "\nМинимальное значения для нижнего треугольника=" << min_down;
    cout << endl;
    cout << "Выводим матрицу заменяем элементы главной диагонали минимальным значением матрицы" << endl;

    int replacer;
    if (min_up < min_down) {
        replacer = min_up;
    }
    else if (min_up > min_down) {
        replacer = min_down;
    }
    return replacer;
}


int main()
{
    setlocale(LC_ALL, "Russian");
    std::cout << "Hello World!\n";

    int N, M;

    M = enter_values_M();
    N = enter_values_N();

    int W[100][100];

    // Получаем числа из консоли, которые вводит пользователь.
    for (int i = 0; i < N; i++)
        for (int j = 0; j < M; j++) {
            cout << endl << "Введие X[" << i << ", " << j << "]->";
            cin >> W[i][j];
        }

    display_massive(W, N, M);

    int replacer;

    replacer = search_min_value(W, N, M);
    
    // Заменяем главную диагональ
    for (int i = 0; i < N; i++) {
        for (int j = 0; j < M; j++) {
            if (i == j) {
                W[i][j] = replacer;
            }
        }
        cout << endl;
    }
    display_massive(W, N, M);

    return 0;
}

